<a :href on:click="click(event)"><slot /></a>

<script>
  import { getRouter } from './methods';

  export default {
    oncreate() {
      const router = getRouter(this);

      this.observe('to', to => {
        const href = router.toHref(to);
        this.set({ href });
      });
    },

    data: () => ({ to: '/', replace: false, href: '/', router: null }),
    methods: {
      click(e) {
        if (e.ctrlKey) return;
        e.preventDefault();

        const to = this.get('to');
        const router = getRouter(this);

        if (this.get('replace')) router.replace(to);
        else router.push(to);
      }
    }
  }
</script>
