<a :href on:click="click(event)"><slot /></a>

<script>
  import { getRouter } from './methods';

  export default {
    data: () => ({ to: '/', replace: false, router: null }),
    computed: {
      href: (to, router, $router) => {
        if (router) return router.toHref(to);
        if ($router) return $router.toHref(to);
        return to;
      }
    },
    methods: {
      click(e) {
        if (e.ctrlKey) return;
        e.preventDefault();

        const to = this.get('to');
        const router = getRouter(this);

        if (this.get('replace')) router.replace(to);
        else router.push(to);
      }
    }
  }
</script>
